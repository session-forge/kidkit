<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
        }
    </style>
</head>
<body>
    <div id="app"></div>

```
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<!-- Lucide Icons -->
<script src="https://unpkg.com/lucide@latest"></script>

<script type="text/babel">
    const { useState, useEffect } = React;

    // Icon components using Lucide
    const Icon = ({ name, ...props }) => {
        useEffect(() => {
            lucide.createIcons();
        });
        return React.createElement('i', { 
            'data-lucide': name,
            ...props
        });
    };

    const BookTracker = () => {
        const [books, setBooks] = useState([]);
        const [searchTerm, setSearchTerm] = useState('');
        const [newBook, setNewBook] = useState({ title: '', author: '', series: '' });
        const [showAddForm, setShowAddForm] = useState(false);
        const [activeTab, setActiveTab] = useState('read');
        const [showRecommendations, setShowRecommendations] = useState(false);
        const [quickAddFilter, setQuickAddFilter] = useState('');
        const [onlineSearchTerm, setOnlineSearchTerm] = useState('');
        const [onlineResults, setOnlineResults] = useState([]);
        const [isSearching, setIsSearching] = useState(false);
        const [showOnlineSearch, setShowOnlineSearch] = useState(false);

        // Common books database
        const commonBooks = [
            { title: 'The Lightning Thief', author: 'Rick Riordan', series: 'Percy Jackson & the Olympians' },
            { title: 'The Sea of Monsters', author: 'Rick Riordan', series: 'Percy Jackson & the Olympians' },
            { title: 'The Titan\'s Curse', author: 'Rick Riordan', series: 'Percy Jackson & the Olympians' },
            { title: 'The Battle of the Labyrinth', author: 'Rick Riordan', series: 'Percy Jackson & the Olympians' },
            { title: 'The Last Olympian', author: 'Rick Riordan', series: 'Percy Jackson & the Olympians' },
            { title: 'Harry Potter and the Sorcerer\'s Stone', author: 'J.K. Rowling', series: 'Harry Potter' },
            { title: 'Harry Potter and the Chamber of Secrets', author: 'J.K. Rowling', series: 'Harry Potter' },
            { title: 'Harry Potter and the Prisoner of Azkaban', author: 'J.K. Rowling', series: 'Harry Potter' },
            { title: 'Harry Potter and the Goblet of Fire', author: 'J.K. Rowling', series: 'Harry Potter' },
            { title: 'Harry Potter and the Order of the Phoenix', author: 'J.K. Rowling', series: 'Harry Potter' },
            { title: 'Harry Potter and the Half-Blood Prince', author: 'J.K. Rowling', series: 'Harry Potter' },
            { title: 'Harry Potter and the Deathly Hallows', author: 'J.K. Rowling', series: 'Harry Potter' },
            { title: 'Fablehaven', author: 'Brandon Mull', series: 'Fablehaven' },
            { title: 'Rise of the Evening Star', author: 'Brandon Mull', series: 'Fablehaven' },
            { title: 'Grip of the Shadow Plague', author: 'Brandon Mull', series: 'Fablehaven' },
            { title: 'Secrets of the Dragon Sanctuary', author: 'Brandon Mull', series: 'Fablehaven' },
            { title: 'Keys to the Demon Prison', author: 'Brandon Mull', series: 'Fablehaven' },
            { title: 'Dragonwatch', author: 'Brandon Mull', series: 'Dragonwatch' },
            { title: 'Wrath of the Dragon King', author: 'Brandon Mull', series: 'Dragonwatch' },
            { title: 'Master of the Phantom Isle', author: 'Brandon Mull', series: 'Dragonwatch' },
            { title: 'Champion of the Titan Games', author: 'Brandon Mull', series: 'Dragonwatch' },
            { title: 'Return of the Dragon Slayers', author: 'Brandon Mull', series: 'Dragonwatch' },
            { title: 'Aru Shah and the End of Time', author: 'Roshani Chokshi', series: 'Pandava' },
            { title: 'Aru Shah and the Song of Death', author: 'Roshani Chokshi', series: 'Pandava' },
            { title: 'Aru Shah and the Tree of Wishes', author: 'Roshani Chokshi', series: 'Pandava' },
            { title: 'Aru Shah and the City of Gold', author: 'Roshani Chokshi', series: 'Pandava' },
            { title: 'Aru Shah and the Nectar of Immortality', author: 'Roshani Chokshi', series: 'Pandava' },
            { title: 'The Unwanteds', author: 'Lisa McMann', series: 'The Unwanteds' },
            { title: 'Island of Silence', author: 'Lisa McMann', series: 'The Unwanteds' },
            { title: 'Island of Fire', author: 'Lisa McMann', series: 'The Unwanteds' },
            { title: 'Island of Legends', author: 'Lisa McMann', series: 'The Unwanteds' },
            { title: 'Island of Shipwrecks', author: 'Lisa McMann', series: 'The Unwanteds' },
            { title: 'Island of Graves', author: 'Lisa McMann', series: 'The Unwanteds' },
            { title: 'Island of Dragons', author: 'Lisa McMann', series: 'The Unwanteds' },
            { title: 'Alcatraz vs. the Evil Librarians', author: 'Brandon Sanderson', series: 'Alcatraz' },
            { title: 'The Scrivener\'s Bones', author: 'Brandon Sanderson', series: 'Alcatraz' },
            { title: 'The Knights of Crystallia', author: 'Brandon Sanderson', series: 'Alcatraz' },
            { title: 'The Shattered Lens', author: 'Brandon Sanderson', series: 'Alcatraz' },
            { title: 'The Dark Talent', author: 'Brandon Sanderson', series: 'Alcatraz' },
            { title: 'The Storm Runner', author: 'J.C. Cervantes', series: 'The Storm Runner' },
            { title: 'Nevermoor: The Trials of Morrigan Crow', author: 'Jessica Townsend', series: 'Nevermoor' },
            { title: 'The Wingfeather Saga: On the Edge of the Dark Sea of Darkness', author: 'Andrew Peterson', series: 'The Wingfeather Saga' },
            { title: 'Wilderlore: The Accidental Apprentice', author: 'Amanda Foody', series: 'Wilderlore' },
            { title: 'Dragon Pearl', author: 'Yoon Ha Lee', series: 'Thousand Worlds' },
        ];

        // Load from localStorage
        useEffect(() => {
            const saved = localStorage.getItem('book-tracker-data');
            if (saved) {
                try {
                    setBooks(JSON.parse(saved));
                } catch (e) {
                    console.error('Error loading data:', e);
                }
            }
        }, []);

        // Save to localStorage
        useEffect(() => {
            if (books.length >= 0) {
                localStorage.setItem('book-tracker-data', JSON.stringify(books));
            }
        }, [books]);

        const searchOnlineBooks = () => {
            if (!onlineSearchTerm.trim()) return;
            
            setIsSearching(true);
            setOnlineResults([]);
            
            // Create a unique callback name
            const callbackName = 'googleBooksCallback_' + Date.now();
            
            // Create the callback function
            window[callbackName] = (data) => {
                try {
                    if (data.items && data.items.length > 0) {
                        const results = data.items.map(item => ({
                            title: item.volumeInfo.title,
                            author: item.volumeInfo.authors ? item.volumeInfo.authors.join(', ') : 'Unknown Author',
                            series: item.volumeInfo.subtitle || '',
                            thumbnail: item.volumeInfo.imageLinks?.thumbnail || ''
                        }));
                        setOnlineResults(results);
                    } else {
                        alert('No books found. Try a different search term.');
                    }
                } catch (error) {
                    console.error('Search error:', error);
                    alert('Error processing search results. Please try again.');
                } finally {
                    setIsSearching(false);
                    // Clean up
                    delete window[callbackName];
                    document.head.removeChild(script);
                }
            };
            
            // Create script tag for JSONP request
            const script = document.createElement('script');
            script.src = `https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(onlineSearchTerm)}&maxResults=15&printType=books&callback=${callbackName}`;
            script.onerror = () => {
                setIsSearching(false);
                alert('Unable to search online. Please check your internet connection.');
                delete window[callbackName];
                document.head.removeChild(script);
            };
            
            document.head.appendChild(script);
        };

        const selectOnlineBook = (book) => {
            setNewBook({
                title: book.title,
                author: book.author,
                series: book.series
            });
            setOnlineSearchTerm('');
            setOnlineResults([]);
            setShowOnlineSearch(false);
        };

        const selectQuickBook = (book) => {
            setNewBook(book);
            setQuickAddFilter('');
        };

        const filteredQuickBooks = commonBooks.filter(book => {
            const alreadyAdded = books.some(b => 
                b.title.toLowerCase() === book.title.toLowerCase()
            );
            if (alreadyAdded) return false;
            
            if (!quickAddFilter.trim()) return true;
            const filter = quickAddFilter.toLowerCase();
            return book.title.toLowerCase().includes(filter) ||
                   book.author.toLowerCase().includes(filter) ||
                   book.series.toLowerCase().includes(filter);
        });

        const addBook = (status) => {
            if (newBook.title.trim()) {
                const book = {
                    id: Date.now(),
                    ...newBook,
                    status,
                    dateAdded: new Date().toISOString()
                };
                setBooks([...books, book]);
                setNewBook({ title: '', author: '', series: '' });
                setShowAddForm(false);
            }
        };

        const removeBook = (id) => {
            setBooks(books.filter(book => book.id !== id));
        };

        const moveBook = (id, newStatus) => {
            setBooks(books.map(book => 
                book.id === id ? { ...book, status: newStatus } : book
            ));
        };

        const filteredBooks = books.filter(book => {
            const matchesSearch = searchTerm === '' || 
                book.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                (book.author && book.author.toLowerCase().includes(searchTerm.toLowerCase())) ||
                (book.series && book.series.toLowerCase().includes(searchTerm.toLowerCase()));
            
            const matchesTab = activeTab === 'all' || book.status === activeTab;
            
            return matchesSearch && matchesTab;
        });

        const getRecommendations = () => {
            const likedBooks = books.filter(b => b.status === 'read');
            const dislikedBooks = books.filter(b => b.status === 'disliked');
            
            const allRecommendations = [
                { title: 'Dragonwatch', author: 'Brandon Mull', reason: 'Sequel to Fablehaven - same world and characters', tags: ['fablehaven', 'brandon mull', 'magical creatures'] },
                { title: 'The Storm Runner', author: 'J.C. Cervantes', reason: 'Mayan mythology, same style as Aru Shah (Rick Riordan Presents)', tags: ['aru shah', 'mythology', 'rick riordan presents'] },
                { title: 'Wilderlore: The Accidental Apprentice', author: 'Amanda Foody', reason: 'Magical creatures like Fablehaven and Cryptid Keeper', tags: ['fablehaven', 'cryptid', 'magical creatures'] },
                { title: 'The Wingfeather Saga', author: 'Andrew Peterson', reason: 'Epic fantasy adventure with humor and heart', tags: ['fantasy', 'adventure', 'series'] },
                { title: 'Nevermoor: The Trials of Morrigan Crow', author: 'Jessica Townsend', reason: 'Magical world-building similar to Fablehaven', tags: ['fablehaven', 'magical world', 'fantasy'] },
                { title: 'The Secret Zoo', author: 'Bryan Chick', reason: 'Hidden magical animals, similar to Cryptid books', tags: ['cryptid', 'magical creatures', 'adventure'] },
                { title: 'Spirit Animals', author: 'Various', reason: 'Kids bonded to magical creatures on quests', tags: ['magical creatures', 'adventure', 'series'] },
                { title: 'Dragon Pearl', author: 'Yoon Ha Lee', reason: 'Korean mythology in space (Rick Riordan Presents)', tags: ['mythology', 'rick riordan presents', 'aru shah'] },
                { title: 'Paola Santiago and the River of Tears', author: 'Tehlor Kay Mejia', reason: 'Mexican folklore (Rick Riordan Presents)', tags: ['mythology', 'rick riordan presents', 'aru shah'] },
                { title: 'The Imaginary Veterinary', author: 'Suzanne Selfors', reason: 'Caring for magical creatures', tags: ['magical creatures', 'fablehaven'] },
                { title: 'The Kane Chronicles', author: 'Rick Riordan', reason: 'Egyptian mythology by the Percy Jackson author', tags: ['percy jackson', 'mythology', 'rick riordan'] },
                { title: 'Magnus Chase and the Gods of Asgard', author: 'Rick Riordan', reason: 'Norse mythology by the Percy Jackson author', tags: ['percy jackson', 'mythology', 'rick riordan'] },
                { title: 'Keeper of the Lost Cities', author: 'Shannon Messenger', reason: 'Magical world with elves and mystery', tags: ['fantasy', 'magical world', 'series'] },
                { title: 'The Land of Stories', author: 'Chris Colfer', reason: 'Adventure through fairy tale worlds', tags: ['fantasy', 'adventure', 'magical world'] },
                { title: 'Tristan Strong Punches a Hole in the Sky', author: 'Kwame Mbalia', reason: 'African mythology and folklore adventure', tags: ['mythology', 'aru shah', 'rick riordan presents'] },
            ];

            const scoredRecommendations = allRecommendations.map(rec => {
                let score = 0;
                
                // If no liked books yet, give small base score to show variety
                if (likedBooks.length === 0) {
                    score = 1;
                }
                
                likedBooks.forEach(liked => {
                    const likedTitle = liked.title.toLowerCase();
                    const likedAuthor = (liked.author || '').toLowerCase();
                    const likedSeries = (liked.series || '').toLowerCase();
                    
                    rec.tags.forEach(tag => {
                        // Check if tag matches in title, author, or series
                        // Use word boundary matching for better results
                        const tagWords = tag.split(' ');
                        tagWords.forEach(word => {
                            if (likedTitle.includes(word) || likedAuthor.includes(word) || likedSeries.includes(word)) {
                                score += 2;
                            }
                        });
                    });
                    
                    // Bonus points for same author (exact match on last name)
                    if (likedAuthor) {
                        const authorLastName = likedAuthor.split(' ').pop();
                        const recAuthorLastName = rec.author.toLowerCase().split(' ').pop();
                        if (authorLastName === recAuthorLastName && authorLastName.length > 3) {
                            score += 5;
                        }
                    }
                    
                    // Bonus points if series name appears in recommendation reason
                    if (likedSeries && likedSeries.length > 3) {
                        if (rec.reason.toLowerCase().includes(likedSeries)) {
                            score += 3;
                        }
                    }
                    
                    // Bonus points if title words appear in recommendation reason
                    const titleWords = likedTitle.split(' ').filter(w => w.length > 4);
                    titleWords.forEach(word => {
                        if (rec.reason.toLowerCase().includes(word)) {
                            score += 1;
                        }
                    });
                });
                
                return { ...rec, score };
            });

            const filtered = scoredRecommendations.filter(rec => {
                const alreadyRead = likedBooks.some(b => 
                    b.title.toLowerCase().includes(rec.title.toLowerCase()) ||
                    rec.title.toLowerCase().includes(b.title.toLowerCase())
                );
                const disliked = dislikedBooks.some(b =>
                    b.title.toLowerCase().includes(rec.title.toLowerCase()) ||
                    rec.title.toLowerCase().includes(b.title.toLowerCase())
                );
                return !alreadyRead && !disliked;
            });
            
            return filtered.sort((a, b) => b.score - a.score).slice(0, 10);
        };

        const stats = {
            read: books.filter(b => b.status === 'read').length,
            disliked: books.filter(b => b.status === 'disliked').length,
            total: books.length
        };

        return (
            <div className="min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800 p-4">
                <div className="max-w-4xl mx-auto">
                    <div className="bg-slate-800 rounded-lg shadow-2xl p-6 mb-6 border border-blue-500/20">
                        <h1 className="text-3xl font-bold text-blue-400 mb-2 flex items-center gap-2">
                            <Icon name="book-open" className="w-8 h-8 text-blue-400" />
                            Book Tracker
                        </h1>
                        <p className="text-slate-300 mb-4">Track reading history and discover new books</p>
                        
                        {/* Stats */}
                        <div className="grid grid-cols-3 gap-4 mb-6">
                            <div className="bg-gradient-to-br from-emerald-900 to-emerald-800 rounded-lg p-3 text-center border border-emerald-600/30">
                                <div className="text-2xl font-bold text-emerald-300">{stats.read}</div>
                                <div className="text-sm text-emerald-400">Books Read</div>
                            </div>
                            <div className="bg-gradient-to-br from-amber-900 to-amber-800 rounded-lg p-3 text-center border border-amber-600/30">
                                <div className="text-2xl font-bold text-amber-300">{stats.disliked}</div>
                                <div className="text-sm text-amber-400">Didn't Finish</div>
                            </div>
                            <div className="bg-gradient-to-br from-blue-900 to-blue-800 rounded-lg p-3 text-center border border-blue-600/30">
                                <div className="text-2xl font-bold text-blue-300">{stats.total}</div>
                                <div className="text-sm text-blue-400">Total Tracked</div>
                            </div>
                        </div>

                        {/* Search */}
                        <div className="relative mb-4">
                            <Icon name="search" className="absolute left-3 top-3 w-5 h-5 text-blue-400" />
                            <input
                                type="text"
                                placeholder="Search by title, author, or series..."
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                                className="w-full pl-10 pr-4 py-2 bg-slate-700 border border-blue-500/30 rounded-lg text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                            />
                        </div>

                        {/* Tabs */}
                        <div className="flex gap-2 mb-4">
                            <button onClick={() => setActiveTab('all')} className={`px-4 py-2 rounded-lg font-medium transition-colors ${activeTab === 'all' ? 'bg-blue-600 text-white shadow-lg shadow-blue-500/30' : 'bg-slate-700 text-slate-300 hover:bg-slate-600 border border-slate-600'}`}>
                                All Books
                            </button>
                            <button onClick={() => setActiveTab('read')} className={`px-4 py-2 rounded-lg font-medium transition-colors ${activeTab === 'read' ? 'bg-emerald-600 text-white shadow-lg shadow-emerald-500/30' : 'bg-slate-700 text-slate-300 hover:bg-slate-600 border border-slate-600'}`}>
                                Read & Liked
                            </button>
                            <button onClick={() => setActiveTab('disliked')} className={`px-4 py-2 rounded-lg font-medium transition-colors ${activeTab === 'disliked' ? 'bg-amber-600 text-white shadow-lg shadow-amber-500/30' : 'bg-slate-700 text-slate-300 hover:bg-slate-600 border border-slate-600'}`}>
                                Didn't Like
                            </button>
                        </div>

                        {/* Action Buttons */}
                        <div className="flex gap-2 mb-4">
                            <button onClick={() => setShowAddForm(!showAddForm)} className="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/30">
                                <Icon name="plus" className="w-5 h-5" />
                                Add Book
                            </button>
                            <button onClick={() => setShowRecommendations(!showRecommendations)} className="flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors shadow-lg shadow-purple-500/30">
                                <Icon name="sparkles" className="w-5 h-5" />
                                Get Recommendations
                            </button>
                        </div>

                        {/* Add Book Form - Truncated for brevity, continues with full implementation */}
                        {showAddForm && (
                            <div className="bg-slate-700 rounded-lg p-4 mb-4 border border-blue-500/20">
                                <h3 className="font-semibold mb-3 text-blue-300">Add New Book</h3>
                                
                                <div className="flex gap-2 mb-4">
                                    <button onClick={() => setShowOnlineSearch(false)} className={`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${!showOnlineSearch ? 'bg-blue-600 text-white' : 'bg-slate-600 text-slate-300 hover:bg-slate-500'}`}>
                                        Quick Add
                                    </button>
                                    <button onClick={() => setShowOnlineSearch(true)} className={`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${showOnlineSearch ? 'bg-blue-600 text-white' : 'bg-slate-600 text-slate-300 hover:bg-slate-500'}`}>
                                        Search Online
                                    </button>
                                </div>

                                {!showOnlineSearch ? (
                                    <div className="mb-4">
                                        <label className="block text-sm font-medium text-slate-300 mb-2">Filter from popular books</label>
                                        <input type="text" placeholder="Type series, title, or author..." value={quickAddFilter} onChange={(e) => setQuickAddFilter(e.target.value)} className="w-full px-3 py-2 bg-slate-600 border border-blue-500/30 rounded-lg mb-2 text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
                                        <div className="max-h-48 overflow-y-auto bg-slate-800 rounded-lg border border-blue-500/20">
                                            {filteredQuickBooks.slice(0, 10).map((book, idx) => (
                                                <div key={idx} onClick={() => selectQuickBook(book)} className="p-3 hover:bg-blue-900/50 cursor-pointer border-b border-slate-700 last:border-b-0 transition-colors">
                                                    <div className="font-semibold text-sm text-blue-300">{book.title}</div>
                                                    <div className="text-xs text-slate-400">{book.author}</div>
                                                    {book.series && <div className="text-xs text-slate-500 italic">{book.series}</div>}
                                                </div>
                                            ))}
                                            {filteredQuickBooks.length === 0 && (
                                                <div className="p-3 text-center text-slate-400 text-sm">No matches. Try online search or enter manually below.</div>
                                            )}
                                        </div>
                                    </div>
                                ) : (
                                    <div className="mb-4">
                                        <label className="block text-sm font-medium text-slate-300 mb-2">Search any book online</label>
                                        <div className="flex gap-2 mb-2">
                                            <input type="text" placeholder="Search for any book..." value={onlineSearchTerm} onChange={(e) => setOnlineSearchTerm(e.target.value)} onKeyPress={(e) => e.key === 'Enter' && searchOnlineBooks()} className="flex-1 px-3 py-2 bg-slate-600 border border-blue-500/30 rounded-lg text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
                                            <button onClick={searchOnlineBooks} disabled={isSearching || !onlineSearchTerm.trim()} className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-slate-600 disabled:cursor-not-allowed transition-colors flex items-center gap-2">
                                                <Icon name="search" className="w-4 h-4" />
                                                {isSearching ? 'Searching...' : 'Search'}
                                            </button>
                                        </div>
                                        {onlineResults.length > 0 && (
                                            <div className="max-h-48 overflow-y-auto bg-slate-800 rounded-lg border border-blue-500/20">
                                                {onlineResults.map((result, idx) => (
                                                    <div key={idx} onClick={() => selectOnlineBook(result)} className="p-3 hover:bg-blue-900/50 cursor-pointer border-b border-slate-700 last:border-b-0 transition-colors flex gap-3">
                                                        {result.thumbnail && <img src={result.thumbnail} alt={result.title} className="w-10 h-14 object-cover rounded" />}
                                                        <div className="flex-1">
                                                            <div className="font-semibold text-sm text-blue-300">{result.title}</div>
                                                            <div className="text-xs text-slate-400">{result.author}</div>
                                                            {result.series && <div className="text-xs text-slate-500 italic">{result.series}</div>}
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        )}
                                    </div>
                                )}

                                <div className="border-t border-slate-600 pt-4 mt-4">
                                    <label className="block text-sm font-medium text-slate-300 mb-2">Or enter manually</label>
                                    <input type="text" placeholder="Book Title *" value={newBook.title} onChange={(e) => setNewBook({...newBook, title: e.target.value})} className="w-full px-3 py-2 bg-slate-600 border border-blue-500/30 rounded-lg mb-2 text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
                                    <input type="text" placeholder="Author" value={newBook.author} onChange={(e) => setNewBook({...newBook, author: e.target.value})} className="w-full px-3 py-2 bg-slate-600 border border-blue-500/30 rounded-lg mb-2 text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
                                    <input type="text" placeholder="Series (optional)" value={newBook.series} onChange={(e) => setNewBook({...newBook, series: e.target.value})} className="w-full px-3 py-2 bg-slate-600 border border-blue-500/30 rounded-lg mb-3 text-slate-100 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500" />
                                </div>
                                
                                <div className="flex gap-2">
                                    <button onClick={() => addBook('read')} disabled={!newBook.title.trim()} className="flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:bg-slate-600 disabled:cursor-not-allowed shadow-lg shadow-emerald-500/20">
                                        <Icon name="thumbs-up" className="w-4 h-4" />
                                        Read & Liked
                                    </button>
                                    <button onClick={() => addBook('disliked')} disabled={!newBook.title.trim()} className="flex items-center gap-2 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:bg-slate-600 disabled:cursor-not-allowed shadow-lg shadow-amber-500/20">
                                        <Icon name="thumbs-down" className="w-4 h-4" />
                                        Didn't Like
                                    </button>
                                </div>
                            </div>
                        )}

                        {/* Recommendations */}
                        {showRecommendations && (
                            <div className="bg-gradient-to-br from-purple-900 to-purple-800 rounded-lg p-4 mb-4 border border-purple-500/30">
                                <h3 className="font-semibold mb-3 flex items-center gap-2 text-purple-300">
                                    <Icon name="sparkles" className="w-5 h-5 text-purple-400" />
                                    Recommended Books
                                </h3>
                                {getRecommendations().length === 0 ? (
                                    <p className="text-purple-200">All recommendations have been added to your lists!</p>
                                ) : (
                                    <div className="space-y-2">
                                        {getRecommendations().map((rec, idx) => (
                                            <div key={idx} className="bg-slate-800 rounded-lg p-3 border border-purple-500/20 hover:border-purple-500/40 transition-colors">
                                                <div className="flex justify-between items-start gap-3">
                                                    <div className="flex-1">
                                                        <div className="font-semibold text-purple-300">{rec.title}</div>
                                                        <div className="text-sm text-slate-400">by {rec.author}</div>
                                                        <div className="text-sm text-purple-400 mt-1">{rec.reason}</div>
                                                    </div>
                                                    <div className="flex gap-1 flex-shrink-0">
                                                        <button onClick={() => { const book = { id: Date.now(), title: rec.title, author: rec.author, series: '', status: 'read', dateAdded: new Date().toISOString() }; setBooks([...books, book]); }} className="p-2 text-emerald-400 hover:bg-emerald-900/50 rounded transition-colors" title="Add to Read & Liked">
                                                            <Icon name="thumbs-up" className="w-4 h-4" />
                                                        </button>
                                                        <button onClick={() => { const book = { id: Date.now(), title: rec.title, author: rec.author, series: '', status: 'disliked', dateAdded: new Date().toISOString() }; setBooks([...books, book]); }} className="p-2 text-amber-400 hover:bg-amber-900/50 rounded transition-colors" title="Add to Didn't Like">
                                                            <Icon name="thumbs-down" className="w-4 h-4" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        )}

                        {/* Book List */}
                        <div className="space-y-2">
                            {filteredBooks.length === 0 ? (
                                <div className="text-center py-8 text-slate-400">
                                    {searchTerm ? 'No books match your search' : 'No books added yet'}
                                </div>
                            ) : (
                                filteredBooks.map(book => (
                                    <div key={book.id} className={`rounded-lg p-4 border-2 ${book.status === 'read' ? 'bg-gradient-to-br from-emerald-900/50 to-emerald-800/50 border-emerald-500/30 hover:border-emerald-500/50' : 'bg-gradient-to-br from-amber-900/50 to-amber-800/50 border-amber-500/30 hover:border-amber-500/50'} transition-colors`}>
                                        <div className="flex justify-between items-start">
                                            <div className="flex-1">
                                                <h3 className={`font-semibold text-lg ${book.status === 'read' ? 'text-emerald-300' : 'text-amber-300'}`}>{book.title}</h3>
                                                {book.author && <p className="text-slate-300 text-sm">by {book.author}</p>}
                                                {book.series && <p className="text-slate-400 text-sm italic">{book.series}</p>}
                                            </div>
                                            <div className="flex gap-2">
                                                {book.status === 'read' ? (
                                                    <button onClick={() => moveBook(book.id, 'disliked')} className="p-2 text-amber-400 hover:bg-amber-900/50 rounded transition-colors" title="Move to Didn't Like">
                                                        <Icon name="thumbs-down" className="w-4 h-4" />
                                                    </button>
                                                ) : (
                                                    <button onClick={() => moveBook(book.id, 'read')} className="p-2 text-emerald-400 hover:bg-emerald-900/50 rounded transition-colors" title="Move to Read & Liked">
                                                        <Icon name="thumbs-up" className="w-4 h-4" />
                                                    </button>
                                                )}
                                                <button onClick={() => removeBook(book.id)} className="p-2 text-slate-400 hover:bg-slate-700 rounded transition-colors" title="Remove">
                                                    <Icon name="x" className="w-4 h-4" />
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                ))
                            )}
                        </div>
                    </div>
                </div>
            </div>
        );
    };

    ReactDOM.render(<BookTracker />, document.getElementById('app'));
</script>
```

</body>
</html>
